local function FindUnit(cs_unit)
    local ins = Battle.frame_unit_support.FindUnit(cs_unit.name)
    return ins
end

local function OnUnitFixedUpdate(cs_unit, trick, delta)
    local ins = FindUnit(cs_unit)
    ins:OnFixedUpdate(trick, delta)
end

local function OnUnitTriggerEnter(cs_unit, shape)
    local ins = FindUnit(cs_unit)
    ins:OnTriggerEnter(shape)
end

local function OnUnitTriggerStay(cs_unit, shape)
    local ins = FindUnit(cs_unit)
    ins:OnTriggerStay(shape)

end

local function OnUnitTriggerExit(cs_unit, shape)
    local ins = FindUnit(cs_unit)
    ins:OnTriggerExit(shape)
end

local function OnUnitDestory(cs_unit)
    local ins = FindUnit(cs_unit)
    ins:OnDestory()
    Battle.frame_unit_support.RemoveUnit(cs_unit.name)
end

local function OnBattleAllReady()
    Battle.StartPlayLogic()
end

local function OnBattleFrame(data)
    Battle.frame_collection.OnBattleFrame(data)
end

return {
    OnBattleFrame = OnBattleFrame,
    OnBattleAllReady = OnBattleAllReady,

    OnUnitFixedUpdate = OnUnitFixedUpdate, OnUnitTriggerEnter = OnUnitTriggerEnter,
    OnUnitTriggerStay = OnUnitTriggerStay, OnUnitTriggerExit = OnUnitTriggerExit,
    OnUnitDestory = OnUnitDestory
}
