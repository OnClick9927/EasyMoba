local curFrame = 0
local frames


local function GetFrame(frame_id)
    return frames[frame_id]
end

local function Start()
    curFrame = 0
    frames = {}
end

local function Dispose()
    curFrame = 0
    frames = nil
end

local function OnBattleFrame(data)
    local frame = data.frameID
    if frame >= curFrame then
        frames[frame] = data
    end
    while frames[curFrame] do
        Battle.frame_unit_support.PlayFrame(curFrame)
        curFrame = curFrame + 1
    end
end

return {
    Start = Start, Dispose = Dispose, OnBattleFrame = OnBattleFrame, GetFrame = GetFrame
}
