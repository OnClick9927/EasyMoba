local word
local unit_type = require("Battle.Logic.BattleUnit.lua")
---@type table<string,BattleUnit>
local unit_map


local M = {}
function M.Start(layer_config)
    unit_map = {}
    word = CS.EasyMoba.MobaLogicWord(layer_config)
end

function M.Dispose()
    unit_map = nil
    word = nil
end

function M.PlayFrame(frame_id)
    word:FixedUpdate(frame_id)
end

function M.CreateUnit(name, type)
    type = type or unit_type
    local cs = word:CreateMobaUnit(name)
    local ins = type(cs)
    unit_map[name] = ins
end

function M.FindUnit(name)
    return unit_map[name]
end

function M.DestoryUnit(name)
    local ins = M.FindUnit(name)
    word:DestoryUnit(ins.cs_unit)
end

function M.RemoveUnit(name)
    unit_map[name] = nil
end

return M
